<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>试卷管理系统</title>
    <link rel="stylesheet" href="layui/css/layui.css">
    <link rel="stylesheet" href="css/userInfo.css">
    <style>
        #choice-type ul li{
            display: inline-block;
        }
        .choice-type{
            margin: 50px;
        }

    </style>
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
    <div style="background-color: #40AFFE" class="layui-header">
        <div style="color: #EEEEEE" class="layui-logo">试卷管理系统</div>
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item">
                <a href="javascript:;">

                </a>
            </li>
            <li class="layui-nav-item"><a id="exit"href="index.html">退出</a></li>
        </ul>
    </div>
    <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
        <ul class="layui-tab-title">
            <li class="layui-this" >修改资料</li>
            <li>查询试题</li>
            <li>下载试卷</li>
        </ul>
        <div class="layui-tab-content ">
            <div id="basic-show" class="layui-tab-item  layui-show ">
                <div class="info">
                    <div class="layui-form-item">
                        <label class="layui-form-label">学号</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input layui-disabled" disabled readonly="readonly" name="" placeholder="" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">姓名</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input layui-disabled" disabled name="" placeholder="" autocomplete="off" class="layui-input">
                        </div>
                    </div>

                </div>
                <div class="password">
                    <div class="layui-form-item">
                        <label class="layui-form-label">新密码</label>
                        <div class="layui-input-block">
                            <input type="email" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">确认密码</label>
                        <div class="layui-input-block">
                            <input type="email" name="" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <button class="layui-btn pass"  lay-filter="*">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                        </div>
                    </div>
                </div>
            </div>
            <div style="width: auto" class="layui-tab-item ">

                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
                    <legend style="text-align: center">默认展示所有选择题</legend>
                </fieldset>
                <div class="choice-type">
                    <div id="choice-type" class="layui-btn-container">
                        <ul >
                            <li>
                                <button id="choiceBtn" class="layui-btn layui-btn-primary  layui-btn-lg">选择</button>
                            </li>
                            <li>
                                <button id="completionBtn"class="layui-btn layui-btn-primary  layui-btn-lg">填空</button>
                            </li>
                            <li>
                                <button id="judgmentBtn" class="layui-btn layui-btn-primary  layui-btn-lg">判断</button>
                            </li>
                            <li>
                                <button id="definitionBtn" class="layui-btn layui-btn-primary  layui-btn-lg">名称解释</button>
                            </li>
                            <li>
                                <button id="shortAnswerBtn" class="layui-btn layui-btn-primary  layui-btn-lg">简答</button>
                            </li>
                            <li>
                                <button id="discussionBtn" class="layui-btn layui-btn-primary  layui-btn-lg">论述</button>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <ul id ="Showcontent"class="layui-layer-content">
                            <li id="showChoice">

                                <div >
                                    <div class="demoTable1">

                                        知识点：
                                        <div class="layui-inline">
                                            <input class="layui-input" name="point" id="demoReload1" autocomplete="off">
                                        </div>
                                        <div  id="search1" class="layui-btn" data-type="reload">搜索</div>
                                    </div>

                                    <table class="layui-hide" id="choice" lay-filter="test1"></table>
                                    <script type="text/html" id="barDemo1">
                                        <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>

                                    </script>
                                </div>

                            </li>
                            <li id="showCompletion" hidden="hidden">

                                <div >
                                    <div class="demoTable1">

                                        知识点：
                                        <div class="layui-inline">
                                            <input class="layui-input" name="point" id="demoReload2" autocomplete="off">
                                        </div>
                                        <div  id="search2" class="layui-btn" data-type="reload">搜索</div>
                                    </div>

                                    <table class="layui-hide" id="completion" lay-filter="test2"></table>
                                    <script type="text/html" id="barDemo2">
                                        <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>

                                    </script>
                                </div>

                            </li>
                            <li id="showjudgment" hidden="hidden">
                                <div class="demoTable1">

                                    知识点：
                                    <div class="layui-inline">
                                        <input class="layui-input" name="point" id="demoReload3" autocomplete="off">
                                    </div>
                                    <div  id="search3" class="layui-btn" data-type="reload">搜索</div>
                                </div>
                                <table class="layui-hide" id="judgment"lay-filter="test3"></table>
                                <script type="text/html" id="barDemo3">
                                    <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>

                                </script>
                            </li>
                            <li id="showdefinition" hidden="hidden">
                                <div class="demoTable1">

                                    知识点：
                                    <div class="layui-inline">
                                        <input class="layui-input" name="point" id="demoReload4" autocomplete="off">
                                    </div>
                                    <div  id="search4" class="layui-btn" data-type="reload">搜索</div>
                                </div>
                                <table class="layui-hide" id="definition"lay-filter="test4"></table>
                                <script type="text/html" id="barDemo4">
                                    <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>

                                </script>
                            </li>
                            <li id="showshort-answer" hidden="hidden">
                                <<div class="demoTable1">

                                知识点：
                                <div class="layui-inline">
                                    <input class="layui-input" name="point" id="demoReload5" autocomplete="off">
                                </div>
                                <div  id="search5" class="layui-btn" data-type="reload">搜索</div>
                            </div>
                                <table class="layui-hide" id="short-answer"lay-filter="test5"></table>
                                <script type="text/html" id="barDemo5">
                                    <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>

                                </script>
                            </li>
                            <li id="showdiscussion" hidden="hidden">
                                <div class="demoTable1">

                                    知识点：
                                    <div class="layui-inline">
                                        <input class="layui-input" name="point" id="demoReload6" autocomplete="off">
                                    </div>
                                    <div  id="search6" class="layui-btn" data-type="reload">搜索</div>
                                </div>
                                <table class="layui-hide" id="discussion" lay-filter="test6"></table>
                                <script type="text/html" id="barDemo6">
                                    <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>

                                </script>
                            </li>
                        </ul>

                    </div>

                </div>
            </div>
            <div style="width: auto" class="layui-tab-item ">

                <div class="down">
                    <div class="layui-btn-container layui-hide">

                        <input style="width: 300px;display:inline" type="text" name="file" required  lay-verify="required" placeholder="请输入..." autocomplete="off" class="layui-input">
                        <button style="margin-left: 20px;height: 35px"  class="layui-btn layui-btn-sm" lay-event="search">查询</button>

                    </div>
                    <table class="layui-hide" id="paper" lay-filter="test"></table>
                    <script type="text/html" id="barDemo">
                        <a class="layui-btn layui-btn-xs" lay-event="download" >下载</a>

                    </script>

                </div>
            </div>
        </div>
            </div>
        </div>
    </div>

<div  style="left: -0px;text-align: center" class="layui-footer">
        <!-- 底部固定区域 -->
        © 题库管理系统
    </div>
</div>
<script src="js/jquery-2.1.4/jquery-2.1.4.js"></script>
<script src="layui/layui.js"></script>
<script src="layui/layui.all.js"></script>


<script>
    //JavaScript代码区域
    layui.use('element', function(){
        var element = layui.element;

    });

    $(function () {
        layui.use('table', function(){//声明使用table
        var table = layui.table;
        table.render({
            elem: '#choice'
            //  ,data:result
            ,url:'/selectAllChoice'
            ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
            ,cols: [//表头
                [

                    {field:'choice_id', width:80, title: '题号', sort: true}
                    ,{field:'choice_content',edit: 'text', width:300, title: '题目'}
                    ,{field:'choice_first',edit: 'text', width:80, title: '选项一'}
                    ,{field:'choice_second',edit: 'text', width:80, title: '选项二'}
                    ,{field:'choice_third',edit: 'text', title: '选项三', width:80} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
                    ,{field:'choice_fourth', edit: 'text',width:80, title: '选项四'}
                    ,{field:'choice_answer',edit: 'text',width:80, title: '答案'}
                    ,{field:'choice_difficulty',edit: 'text',width:80, title: '难度'}
                    ,{field:'point', width:80, title: '知识点'}
                    ,{field:'teacher_name', width:120, title: '教师'}
                    ,{field:'choice_time', width:137, title: '创建时间', sort: true}
                    ,{fixed: 'right', width:300, title: '操作',align:'center', toolbar: '#barDemo1'}
                ]
            ]
            ,page:true
            ,limit:10
            ,id:'choiceRload'
        });
        //监听单元格编辑
        table.on('edit(test1)', function(obj){
            var value = obj.value //得到修改后的值
                ,data = obj.data //得到所在行所有键值
                ,field = obj.field; //得到字段

        });
        //监听行工具事件
        table.on('tool(test1)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
            var data = obj.data; //获得当前行数据
            var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
            var tr = obj.tr; //获得当前行 tr 的DOM对象

            if(layEvent === 'detail'){ //查看

                layer.open({
                    title:"题目详情",
                    type: 1,
                    //skin: 'layui-layer-rim', //加上边框
                    area: ['600px', '800px'], //宽高
                    content: '<div style="font-size:25px">'+data.choice_id+'.'+data.choice_content+'<br>A.'+data.choice_first+'<br>B.'+data.choice_second+'<br>C.'+data.choice_third+'<br>D.'+data.choice_fourth+'<br>答案:'+data.choice_answer
                        +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                });
                //do somehing

            }
        });
        $('.demoTable1 #search1').on('click', function(){
            var type = $(this).data('type');
            active[type] ? active[type].call(this) : '';
            alert("")
        });
        var jQuery = layui.jQuery, active = {
            reload: function(){
                var demoReload1 = $('#demoReload1');

                //执行重载
                table.reload('choiceRload', {
                    page: {
                        curr: 1 //重新从第 1 页开始
                    }
                    ,where: {


                        point:demoReload1.val()

                    }
                });
            }
        };

    });
    });
    $("#choiceBtn").click(function () {
        var i=  $(this).parent('li').index();
        $("#Showcontent li").eq(i).show();
        $("#Showcontent li").eq(i).siblings().hide();
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            table.render({
                elem: '#choice'
//  ,data:resul

                ,url:'/selectAllChoice'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'choice_id', width:80, title: '题号', sort: true}
                        ,{field:'choice_content', edit: 'text', width:300, title: '题目'}
                        ,{field:'choice_first',edit: 'text', width:80, title: '选项一'}
                        ,{field:'choice_second',edit: 'text', width:80, title: '选项二'}
                        ,{field:'choice_third', edit: 'text',title: '选项三', width:80} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
                        ,{field:'choice_fourth',edit: 'text', width:80, title: '选项四'}
                        ,{field:'choice_answer',edit: 'text',width:80, title: '答案'}
                        ,{field:'choice_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:120, title: '教师'}
                        ,{field:'choice_time',width:137, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:300, title: '操作',align:'center', toolbar: '#barDemo1'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload'
            });
            //监听单元格编辑

//监听行工具事件
            table.on('tool(test1)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看
                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.choice_id+'.'+data.choice_content+'<br>A.'+data.choice_first+'<br>B.'+data.choice_second+'<br>C.'+data.choice_third+'<br>D.'+data.choice_fourth+'<br>答案:'+data.choice_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
//do somehing

                }
            });
            $('.demoTable1 #search1').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload1 = $('#demoReload1');

                    //执行重载
                    table.reload('choiceRload', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload1.val()

                        }
                    });
                }
            };
        });

    });

    $("#completionBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(1).show();
            $("#Showcontent li").eq(1).siblings().hide();
            table.render({
                elem: '#completion'
                //  ,data:result
                ,url:'/selectAllCompletion'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'completion_id', width:80, title: '题号', sort: true}
                        ,{field:'completion_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'completion_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'completion_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo2'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload2'
            });

            //监听行工具事件
            table.on('tool(test2)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.completion_id+'.'+data.completion_content+'<br>答案:'+data.completion_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                }
            });
            $('.demoTable1 #search2').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload2 = $('#demoReload2');

                    //执行重载
                    table.reload('choiceRload2', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload2.val()

                        }
                    });
                }
            };
        });
    });
    $("#judgmentBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(2).show();
            $("#Showcontent li").eq(2).siblings().hide();
            table.render({
                elem: '#judgment'
                //  ,data:result
                ,url:'/selectAllJudgment'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'judgment_id', width:80, title: '题号', sort: true}
                        ,{field:'judgment_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'judgment_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'judgment_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo3'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload3'
            });
            //监听单元格编辑
            table.on('edit(test3)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
            //监听行工具事件
            table.on('tool(test3)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.judgment_id+'.'+data.judgment_content+'<br>答案:'+data.judgment_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                }
            });
            $('.demoTable1 #search3').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload3 = $('#demoReload3');

                    //执行重载
                    table.reload('choiceRload3', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload3.val()

                        }
                    });
                }
            };
        });
    });
    $("#definitionBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(3).show();
            $("#Showcontent li").eq(3).siblings().hide();
            table.render({
                elem: '#definition'
                //  ,data:result
                ,url:'/selectAllDefinition'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'definition_id', width:80, title: '题号', sort: true}
                        ,{field:'definition_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'definition_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'definition_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo4'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload4'
            });
            //监听单元格编辑
            table.on('edit(test4)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
            //监听行工具事件
            table.on('tool(test4)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.definition_id+'.'+data.definition_content+'<br>答案:'+data.definition_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                }
            });
            $('.demoTable1 #search4').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload4 = $('#demoReload4');

                    //执行重载
                    table.reload('choiceRload4', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload4.val()

                        }
                    });
                }
            };
        });
    });
    $("#shortAnswerBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(4).show();
            $("#Showcontent li").eq(4).siblings().hide();
            table.render({
                elem: '#short-answer'
                //  ,data:result
                ,url:'/selectAllShortAnswer'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'sa_id', width:80, title: '题号', sort: true}
                        ,{field:'sa_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'sa_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'sa_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo5'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload5'
            });
            //监听单元格编辑
            table.on('edit(test5)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
            //监听行工具事件
            table.on('tool(test5)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.sa_id+'.'+data.sa_content+'<br>答案:'+data.sa_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                }
            });
            $('.demoTable1 #search5').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload5 = $('#demoReload5');

                    //执行重载
                    table.reload('choiceRload5', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload5.val()

                        }
                    });
                }
            };
        });
    });
    $("#discussionBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(5).show();
            $("#Showcontent li").eq(5).siblings().hide();
            table.render({
                elem: '#discussion'
                //  ,data:result
                ,url:'/selectAllDiscussion'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'discussion_id', width:80, title: '题号', sort: true}
                        ,{field:'discussion_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'discussion_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'discussion_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo6'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload6'
            });
            //监听单元格编辑
            table.on('edit(test6)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
            //监听行工具事件
            table.on('tool(test6)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.discussion_id+'.'+data.discussion_content+'<br>答案:'+data.discussion_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                }
            });
            $('.demoTable1 #search6').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload6 = $('#demoReload6');

                    //执行重载
                    table.reload('choiceRload6', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload6.val()

                        }
                    });
                }
            };
        });
    });
    $(function () {

        $.ajax({
            url:"/selectStudent",
            type:"post",
            dataType:"json",
            success:function (result) {

                var id=result.student_id;
                $("#id").text(id);
                $("#basic-show input").eq(0).val(id);
                $("#basic-show input").eq(1).val(result.student_name);

//layui tab切换 载入ajax
            }
        })
    });
    $(".pass").click(function() {
        var ps=  $("#basic-show input").eq(2).val();

        var ps1=  $("#basic-show input").eq(3).val();
        var id=$("#basic-show input").eq(0).val();
        if(ps==ps1){
            $.ajax({
                type: "post",
                url:  "/changepasswordS",
                data:{student_password:ps,student_id:id},
                success: function(data) {
                    if(data==1){
                        layer.open({
                            title: '提示'
                            ,content: '修改成功'
                        });
                    }
                }
            });
        }else{
            layer.open({
                title: '提示'
                ,content: '密码输入不一致'
            });
        }

        //阻止跳转

    });
    $(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            table.render({
                elem: '#paper'
                //  ,data:result
                ,url:'/selectAllPaper'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'paper_id', width:80, title: '试卷号', sort: true}
                        ,{field:'paper_date', width:135, title: '创建时间', sort: true}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'difficulty',width:80, title: '难度'}
                        ,{field:'point', width:400, title: '知识点'}
                        ,{field:'paper_content', width:400, title: '试卷'}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo'}
                    ]
                ]
                ,page:true
                ,limit:10
            });
            //监听行工具事件
            table.on('tool(test)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'download'){ //下载
                    layer.open({
                        title:"题目详情",
                        type: 1,
                        time:1500,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['400px', '100px'], //宽高
                        content: '<a href="download?filename='+data.paper_content+'">确定下载'+data.paper_content+'？确定</a>'
                    });


                }
            });

        });
    })
    $("#exit").click(function () {
        $.ajax({
            url:"/adminLogout",
            type:"post",
            dataType:"json",
            success:function (result) {
                //alert(result)
                if(result == false){
                    //alert("用户名或密码错误")
                    layer.msg("操作失败", {time:1000});
                }else {
                    var index = layer.load(1, {
                        shade: [0.1,'#fff']//0.1透明度的白色背景
                    }, location.href="Login.html");

                }
            }
        })
    })
</script>
</body>
</html>