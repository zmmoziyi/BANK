<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="layui/css/layui.css">
    <style>
       #choice-type ul li{
           display: inline-block;
       }
        .choice-type{
            margin: 50px;
        }

    </style>
    <script src="js/jquery-2.1.4/jquery-3.3.1.js"></script>
</head>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
    <legend style="text-align: center">默认展示所有选择题</legend>
</fieldset>
<div class="choice-type">
    <div id="choice-type" class="layui-btn-container">
        <ul >
            <li>
                <button id="choiceBtn" class="layui-btn layui-btn-primary  layui-btn-lg">选择</button>
            </li>
            <li>
                <button id="completionBtn"class="layui-btn layui-btn-primary  layui-btn-lg">填空</button>
            </li>
            <li>
                <button id="judgmentBtn" class="layui-btn layui-btn-primary  layui-btn-lg">判断</button>
            </li>
            <li>
                <button id="definitionBtn" class="layui-btn layui-btn-primary  layui-btn-lg">名称解释</button>
            </li>
            <li>
                <button id="shortAnswerBtn" class="layui-btn layui-btn-primary  layui-btn-lg">简答</button>
            </li>
            <li>
                <button id="discussionBtn" class="layui-btn layui-btn-primary  layui-btn-lg">论述</button>
            </li>
        </ul>
    </div>
    <div>
        <ul id ="Showcontent"class="layui-layer-content">
            <li id="showChoice">

                <div >
                    <div class="demoTable1">

                        知识点：
                        <div class="layui-inline">
                            <input class="layui-input" name="point" id="demoReload1" autocomplete="off">
                        </div>
                        <div  id="search1" class="layui-btn" data-type="reload">搜索</div>
                    </div>

                    <table class="layui-hide" id="choice" lay-filter="test1"></table>
                    <script type="text/html" id="barDemo1">
                        <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
                        <a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>
                        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                    </script>
                </div>

            </li>
            <li id="showCompletion" hidden="hidden">

                <div >
                    <div class="demoTable1">

                        知识点：
                        <div class="layui-inline">
                            <input class="layui-input" name="point" id="demoReload2" autocomplete="off">
                        </div>
                        <div  id="search2" class="layui-btn" data-type="reload">搜索</div>
                    </div>

                    <table class="layui-hide" id="completion" lay-filter="test2"></table>
                    <script type="text/html" id="barDemo2">
                        <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
                        <a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>
                        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                    </script>
                </div>

            </li>
            <li id="showjudgment" hidden="hidden">
                <div class="demoTable1">

                    知识点：
                    <div class="layui-inline">
                        <input class="layui-input" name="point" id="demoReload3" autocomplete="off">
                    </div>
                    <div  id="search3" class="layui-btn" data-type="reload">搜索</div>
                </div>
                <table class="layui-hide" id="judgment"lay-filter="test3"></table>
                <script type="text/html" id="barDemo3">
                    <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
                    <a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>
                    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                </script>
            </li>
            <li id="showdefinition" hidden="hidden">
                <div class="demoTable1">

                    知识点：
                    <div class="layui-inline">
                        <input class="layui-input" name="point" id="demoReload4" autocomplete="off">
                    </div>
                    <div  id="search4" class="layui-btn" data-type="reload">搜索</div>
                </div>
                <table class="layui-hide" id="definition"lay-filter="test4"></table>
                <script type="text/html" id="barDemo4">
                    <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
                    <a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>
                    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                </script>
            </li>
            <li id="showshort-answer" hidden="hidden">
                <<div class="demoTable1">

                知识点：
                <div class="layui-inline">
                    <input class="layui-input" name="point" id="demoReload5" autocomplete="off">
                </div>
                <div  id="search5" class="layui-btn" data-type="reload">搜索</div>
            </div>
                <table class="layui-hide" id="short-answer"lay-filter="test5"></table>
                <script type="text/html" id="barDemo5">
                    <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
                    <a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>
                    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                </script>
            </li>
            <li id="showdiscussion" hidden="hidden">
                <div class="demoTable1">

                    知识点：
                    <div class="layui-inline">
                        <input class="layui-input" name="point" id="demoReload6" autocomplete="off">
                    </div>
                    <div  id="search6" class="layui-btn" data-type="reload">搜索</div>
                </div>
                <table class="layui-hide" id="discussion" lay-filter="test6"></table>
                <script type="text/html" id="barDemo6">
                    <a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
                    <a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>
                    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                </script>
            </li>
        </ul>

    </div>

</div>
</div>
</div>
<script src="js/jquery-2.1.4/jquery-2.1.4.js"></script>
<script src="layui/layui.js"></script>
<script src="layui/layui.all.js"></script>
<script>
    $(function () {layui.use('table', function(){//声明使用table
        var table = layui.table;
        table.render({
            elem: '#choice'
            //  ,data:result
            ,url:'/selectAllChoice'
            ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
            ,cols: [//表头
                [

                    {field:'choice_id', width:80, title: '题号', sort: true}
                    ,{field:'choice_content',edit: 'text', width:300, title: '题目'}
                    ,{field:'choice_first',edit: 'text', width:80, title: '选项一'}
                    ,{field:'choice_second',edit: 'text', width:80, title: '选项二'}
                    ,{field:'choice_third',edit: 'text', title: '选项三', width:80} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
                    ,{field:'choice_fourth', edit: 'text',width:80, title: '选项四'}
                    ,{field:'choice_answer',edit: 'text',width:80, title: '答案'}
                    ,{field:'choice_difficulty',edit: 'text',width:80, title: '难度'}
                    ,{field:'point', width:80, title: '知识点'}
                    ,{field:'teacher_name', width:120, title: '教师'}
                    ,{field:'choice_time', width:137, title: '创建时间', sort: true}
                    ,{fixed: 'right', width:300, title: '操作',align:'center', toolbar: '#barDemo1'}
                ]
            ]
            ,page:true
            ,limit:10
            ,id:'choiceRload'
        });
        //监听单元格编辑
        table.on('edit(test1)', function(obj){
            var value = obj.value //得到修改后的值
                ,data = obj.data //得到所在行所有键值
                ,field = obj.field; //得到字段

        });
        //监听行工具事件
        table.on('tool(test1)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
            var data = obj.data; //获得当前行数据
            var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
            var tr = obj.tr; //获得当前行 tr 的DOM对象

            if(layEvent === 'detail'){ //查看

                layer.open({
                    title:"题目详情",
                    type: 1,
                    //skin: 'layui-layer-rim', //加上边框
                    area: ['600px', '800px'], //宽高
                    content: '<div style="font-size:25px">'+data.choice_id+'.'+data.choice_content+'<br>A.'+data.choice_first+'<br>B.'+data.choice_second+'<br>C.'+data.choice_third+'<br>D.'+data.choice_fourth+'<br>答案:'+data.choice_answer
                        +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                });
                //do somehing

            } else if(layEvent === 'del'){ //删除
                layer.confirm('真的删除行么', function(index){
                    obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                    layer.close(index);
                    choice_id=data.choice_id;
                    //向服务端发送删除指令
                    $.ajax({
                        url:"/deleteChoice",
                        type:"post",
                        data:{choice_id:choice_id},
                        dataType:"json",
                        success:function (data) {
                            if(data==1){
                                layer.open({
                                    title: '提示'
                                    ,content: '删除成功'
                                });
                            }


                        }
                    })
                });
            } else if(layEvent === 'edit'){ //编辑
                $.ajax({
                    url:"/updateChoice",
                    type:"post",
                    data:{choice_id:data.choice_id,choice_content:data.choice_content,choice_first:data.choice_first,choice_second:data.choice_second,choice_third:data.choice_third,choice_fourth:data.choice_fourth,choice_answer:data.choice_answer},
                    dataType:"json",
                    success:function (result) {
                        if(result==1){
                            layer.open({
                                title: '提示'
                                ,content: '修改成功'
                            });
                        }

                    }
                })
            }
        });
        $('.demoTable1 #search1').on('click', function(){
            var type = $(this).data('type');
            active[type] ? active[type].call(this) : '';
            alert("")
        });
        var jQuery = layui.jQuery, active = {
            reload: function(){
                var demoReload1 = $('#demoReload1');

                //执行重载
                table.reload('choiceRload', {
                    page: {
                        curr: 1 //重新从第 1 页开始
                    }
                    ,where: {


                            point:demoReload1.val()

                    }
                });
            }
        };

    });
    });
    $("#choiceBtn").click(function () {
      var i=  $(this).parent('li').index();
      $("#Showcontent li").eq(i).show();
      $("#Showcontent li").eq(i).siblings().hide();
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            table.render({
                elem: '#choice'
//  ,data:resul

                ,url:'/selectAllChoice'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'choice_id', width:80, title: '题号', sort: true}
                        ,{field:'choice_content', edit: 'text', width:300, title: '题目'}
                        ,{field:'choice_first',edit: 'text', width:80, title: '选项一'}
                        ,{field:'choice_second',edit: 'text', width:80, title: '选项二'}
                        ,{field:'choice_third', edit: 'text',title: '选项三', width:80} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
                        ,{field:'choice_fourth',edit: 'text', width:80, title: '选项四'}
                        ,{field:'choice_answer',edit: 'text',width:80, title: '答案'}
                        ,{field:'choice_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:120, title: '教师'}
                        ,{field:'choice_time',width:137, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:300, title: '操作',align:'center', toolbar: '#barDemo1'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload'
            });
            //监听单元格编辑
            table.on('edit(test1)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
//监听行工具事件
            table.on('tool(test1)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看
                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.choice_id+'.'+data.choice_content+'<br>A.'+data.choice_first+'<br>B.'+data.choice_second+'<br>C.'+data.choice_third+'<br>D.'+data.choice_fourth+'<br>答案:'+data.choice_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
//do somehing

                } else if(layEvent === 'del'){ //删除
                    layer.confirm('真的删除行么', function(index){
                        obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                        layer.close(index);
                        choice_id=data.choice_id;
//向服务端发送删除指令
                        $.ajax({
                            url:"/deleteChoice",
                            type:"post",
                            data:{choice_id:choice_id},
                            dataType:"json",
                            success:function (result) {
                                if(data==1){
                                    layer.open({
                                        title: '提示'
                                        ,content: '删除成功'
                                    });
                                }

                            }
                        })
                    });
                } else if(layEvent === 'edit'){ //编辑
//do something

//同步更新缓存对应的值
                    $.ajax({
                        url:"/updateChoice",
                        type:"post",
                        data:{choice_id:data.choice_id,choice_content:data.choice_content,choice_first:data.choice_first,choice_second:data.choice_second,choice_third:data.choice_third,choice_fourth:data.choice_fourth,choice_answer:data.choice_answer},
                        dataType:"json",
                        success:function (result) {
                            if(result==1){
                                layer.open({
                                    title: '提示'
                                    ,content: '修改成功'
                                });
                            }

                        }
                    })
                }
            });
            $('.demoTable1 #search1').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload1 = $('#demoReload1');

                    //执行重载
                    table.reload('choiceRload', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload1.val()

                        }
                    });
                }
            };
        });

    });

    $("#completionBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(1).show();
            $("#Showcontent li").eq(1).siblings().hide();
            table.render({
                elem: '#completion'
                //  ,data:result
                ,url:'/selectAllCompletion'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'completion_id', width:80, title: '题号', sort: true}
                        ,{field:'completion_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'completion_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'completion_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo2'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload2'
            });
            //监听单元格编辑
            table.on('edit(test2)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
            //监听行工具事件
            table.on('tool(test2)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.completion_id+'.'+data.completion_content+'<br>答案:'+data.completion_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                } else if(layEvent === 'del'){ //删除
                    layer.confirm('真的删除行么', function(index){
                        obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                        layer.close(index);
                        completion_id=data.completion_id;
                        //向服务端发送删除指令
                        $.ajax({
                            url:"/deleteCompletion",
                            type:"post",
                            data:{completion_id:completion_id},
                            dataType:"json",
                            success:function (result) {
                                if(result==1){
                                    layer.open({
                                        title: '提示'
                                        ,content: '删除成功'
                                    });
                                }

                            }
                        })
                    });
                } else if(layEvent === 'edit'){ //编辑
                    //do something
                    $.ajax({
                        url:"/updateCompletion",
                        type:"post",
                        data:{completion_id:data.completion_id,completion_content:data.completion_content,completion_answer:data.completion_answer},
                        dataType:"json",
                        success:function (result) {
                            if(result==1){
                                layer.open({
                                    title: '提示'
                                    ,content: '修改成功'
                                });
                            }

                        }
                    })
                }
            });
            $('.demoTable1 #search2').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload2 = $('#demoReload2');

                    //执行重载
                    table.reload('choiceRload2', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload2.val()

                        }
                    });
                }
            };
        });
    });
    $("#judgmentBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(2).show();
            $("#Showcontent li").eq(2).siblings().hide();
            table.render({
                elem: '#judgment'
                //  ,data:result
                ,url:'/selectAllJudgment'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'judgment_id', width:80, title: '题号', sort: true}
                        ,{field:'judgment_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'judgment_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'judgment_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo3'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload3'
            });
            //监听单元格编辑
            table.on('edit(test3)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
            //监听行工具事件
            table.on('tool(test3)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.judgment_id+'.'+data.judgment_content+'<br>答案:'+data.judgment_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                } else if(layEvent === 'del'){ //删除
                    layer.confirm('真的删除行么', function(index){
                        obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                        layer.close(index);
                        judgment_id=data.judgment_id;
                        //向服务端发送删除指令
                        $.ajax({
                            url:"/deleteJudgment",
                            type:"post",
                            data:{judgment_id:judgment_id},
                            dataType:"json",
                            success:function (result) {
                                if(result==1){
                                    layer.open({
                                        title: '提示'
                                        ,content: '删除成功'
                                    });
                                }

                            }
                        })
                    });
                } else if(layEvent === 'edit'){ //编辑
                    //do something
                    $.ajax({
                        url:"/updateJudgment",
                        type:"post",
                        data:{judgment_id:data.judgment_id,judgment_content:data.judgment_content,judgment_answer:data.judgment_answer},
                        dataType:"json",
                        success:function (result) {
                            if(result==1){
                                layer.open({
                                    title: '提示'
                                    ,content: '修改成功'
                                });
                            }

                        }
                    })
                }
            });
            $('.demoTable1 #search3').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload3 = $('#demoReload3');

                    //执行重载
                    table.reload('choiceRload3', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload3.val()

                        }
                    });
                }
            };
        });
    });
    $("#definitionBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(3).show();
            $("#Showcontent li").eq(3).siblings().hide();
            table.render({
                elem: '#definition'
                //  ,data:result
                ,url:'/selectAllDefinition'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'definition_id', width:80, title: '题号', sort: true}
                        ,{field:'definition_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'definition_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'definition_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo4'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload4'
            });
            //监听单元格编辑
            table.on('edit(test4)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
            //监听行工具事件
            table.on('tool(test4)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.definition_id+'.'+data.definition_content+'<br>答案:'+data.definition_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                } else if(layEvent === 'del'){ //删除
                    layer.confirm('真的删除行么', function(index){
                        obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                        layer.close(index);
                        definition_id=data.definition_id;
                        //向服务端发送删除指令
                        $.ajax({
                            url:"/deleteDefinition",
                            type:"post",
                            data:{definition_id:definition_id},
                            dataType:"json",
                            success:function (result) {
                                if(result==1){
                                    layer.open({
                                        title: '提示'
                                        ,content: '删除成功'
                                    });
                                }

                            }
                        })
                    });
                } else if(layEvent === 'edit'){ //编辑
                    //do something
                    $.ajax({
                        url:"/updateDefinition",
                        type:"post",
                        data:{definition_id:data.definition_id,definition_content:data.definition_content,definition_answer:data.definition_answer},
                        dataType:"json",
                        success:function (result) {
                            if(result==1){
                                layer.open({
                                    title: '提示'
                                    ,content: '修改成功'
                                });
                            }

                        }
                    })
                }
            });
            $('.demoTable1 #search4').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload4 = $('#demoReload4');

                    //执行重载
                    table.reload('choiceRload4', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload4.val()

                        }
                    });
                }
            };
        });
    });
    $("#shortAnswerBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(4).show();
            $("#Showcontent li").eq(4).siblings().hide();
            table.render({
                elem: '#short-answer'
                //  ,data:result
                ,url:'/selectAllShortAnswer'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'sa_id', width:80, title: '题号', sort: true}
                        ,{field:'sa_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'sa_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'sa_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo5'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload5'
            });
            //监听单元格编辑
            table.on('edit(test5)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
            //监听行工具事件
            table.on('tool(test5)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.sa_id+'.'+data.sa_content+'<br>答案:'+data.sa_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                } else if(layEvent === 'del'){ //删除
                    layer.confirm('真的删除行么', function(index){
                        obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                        layer.close(index);

                        //向服务端发送删除指令
                        $.ajax({
                            url:"/deleteShortAnswer",
                            type:"post",
                            data:{shortAnswer_id:data.sa_id},
                            dataType:"json",
                            success:function (result) {
                                if(result==1){
                                    layer.open({
                                        title: '提示'
                                        ,content: '删除成功'
                                    });
                                }

                            }
                        })
                    });
                } else if(layEvent === 'edit'){ //编辑
                    //do something
                    $.ajax({
                        url:"/updateShortAnswer",
                        type:"post",
                        data:{shortAnswer_id:data.sa_id,shortAnswer_content:data.sa_content,shortAnswer_answer:data.sa_answer},
                        dataType:"json",
                        success:function (result) {
                            if(result==1){
                                layer.open({
                                    title: '提示'
                                    ,content: '修改成功'
                                });
                            }

                        }
                    })
                }
            });
            $('.demoTable1 #search5').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload5 = $('#demoReload5');

                    //执行重载
                    table.reload('choiceRload5', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload5.val()

                        }
                    });
                }
            };
        });
    });
    $("#discussionBtn").click(function () {
        layui.use('table', function(){//声明使用table
            var table = layui.table;
            $("#Showcontent li").eq(5).show();
            $("#Showcontent li").eq(5).siblings().hide();
            table.render({
                elem: '#discussion'
                //  ,data:result
                ,url:'/selectAllDiscussion'
                ,cellMinWidth: 50 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                ,cols: [//表头
                    [

                        {field:'discussion_id', width:80, title: '题号', sort: true}
                        ,{field:'discussion_content',edit: 'text', width:300, title: '题目'}
                        ,{field:'discussion_answer',edit: 'text',width:300, title: '答案'}
                        ,{field:'discussion_difficulty',edit: 'text',width:80, title: '难度'}
                        ,{field:'point', width:80, title: '知识点'}
                        ,{field:'teacher_name', width:135, title: '教师'}
                        ,{field:'choice_time', width:135, title: '创建时间', sort: true}
                        ,{fixed: 'right', width:400, title: '操作',align:'center', toolbar: '#barDemo6'}
                    ]
                ]
                ,page:true
                ,limit:10
                ,id:'choiceRload6'
            });
            //监听单元格编辑
            table.on('edit(test6)', function(obj){
                var value = obj.value //得到修改后的值
                    ,data = obj.data //得到所在行所有键值
                    ,field = obj.field; //得到字段

            });
            //监听行工具事件
            table.on('tool(test6)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                var tr = obj.tr; //获得当前行 tr 的DOM对象

                if(layEvent === 'detail'){ //查看

                    layer.open({
                        title:"题目详情",
                        type: 1,
                        //skin: 'layui-layer-rim', //加上边框
                        area: ['600px', '800px'], //宽高
                        content: '<div style="font-size:25px">'+data.discussion_id+'.'+data.discussion_content+'<br>答案:'+data.discussion_answer
                            +'<br>考察知识点:'+data.point +'<br>出题人:'+data.teacher_name+'<br>创建时间:'+data.choice_time+'</div>'
                    });
                    //do somehing

                } else if(layEvent === 'del'){ //删除
                    layer.confirm('真的删除行么', function(index){
                        obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                        layer.close(index);

                        //向服务端发送删除指令
                        $.ajax({
                            url:"/deleteDiscussion",
                            type:"post",
                            data:{discussion_id:data.discussion_id},
                            dataType:"json",
                            success:function (result) {
                                if(result==1){
                                    layer.open({
                                        title: '提示'
                                        ,content: '删除成功'
                                    });
                                }

                            }
                        })
                    });
                } else if(layEvent === 'edit'){ //编辑
                    //do something
                    $.ajax({
                        url:"/updateDiscussion",
                        type:"post",
                        data:{discussionid:data.discussion_id,discussion_content:data.discussion_content,discussion_answer:data.discussion_answer},
                        dataType:"json",
                        success:function (result) {
                            if(result==1){
                                layer.open({
                                    title: '提示'
                                    ,content: '修改成功'
                                });
                            }

                        }
                    })
                }
            });
            $('.demoTable1 #search6').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
                alert("")
            });
            var jQuery = layui.jQuery, active = {
                reload: function(){
                    var demoReload6 = $('#demoReload6');

                    //执行重载
                    table.reload('choiceRload6', {
                        page: {
                            curr: 1 //重新从第 1 页开始
                        }
                        ,where: {


                            point:demoReload6.val()

                        }
                    });
                }
            };
        });
    });
</script>

</body>
</html>
